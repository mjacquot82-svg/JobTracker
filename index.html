<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Field Job Tracker</title>
Â  Â  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
Â  Â  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
Â  Â  <script src="https://unpkg.com/@babel/standalone@7/babel.min.js"></script>
Â  Â Â 
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
Â  Â  Â  Â  Â  Â  background-color: #f4f7f6;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  #root {
Â  Â  Â  Â  Â  Â  max-width: 600px;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  Â  Â  background-color: #ffffff;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  }

Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  font-size: 1.8em;
Â  Â  Â  Â  }

Â  Â  Â  Â  h2 {
Â  Â  Â  Â  Â  Â  color: #555;
Â  Â  Â  Â  Â  Â  border-bottom: 2px solid #eee;
Â  Â  Â  Â  Â  Â  padding-bottom: 5px;
Â  Â  Â  Â  Â  Â  margin-top: 25px;
Â  Â  Â  Â  Â  Â  font-size: 1.4em;
Â  Â  Â  Â  }

Â  Â  Â  Â  label {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  margin-top: 15px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #444;
Â  Â  Â  Â  }

Â  Â  Â  Â  select, input[type="text"], input[type="number"], input[type="date"] {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  margin-top: 5px;
Â  Â  Â  Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  }

Â  Â  Â  Â  button {
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  transition: background-color 0.2s;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }

Â  Â  Â  Â  .add-product-btn {
Â  Â  Â  Â  Â  Â  background-color: #007bff;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .add-product-btn:hover:not(:disabled) {
Â  Â  Â  Â  Â  Â  background-color: #0056b3;
Â  Â  Â  Â  }

Â  Â  Â  Â  .log-hours-btn {
Â  Â  Â  Â  Â  Â  background-color: #28a745;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }

Â  Â  Â  Â  .log-hours-btn:hover:not(:disabled) {
Â  Â  Â  Â  Â  Â  background-color: #1e7e34;
Â  Â  Â  Â  }

Â  Â  Â  Â  .add-photo-btn {
Â  Â  Â  Â  Â  Â  background-color: #ffc107;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  Â  Â  margin-top: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .add-photo-btn:hover:not(:disabled) {
Â  Â  Â  Â  Â  Â  background-color: #e0a800;
Â  Â  Â  Â  }

Â  Â  Â  Â  .save-progress-btn {
Â  Â  Â  Â  Â  Â  background-color: #17a2b8;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }

Â  Â  Â  Â  .save-progress-btn:hover:not(:disabled) {
Â  Â  Â  Â  Â  Â  background-color: #117a8b;
Â  Â  Â  Â  }

Â  Â  Â  Â  .finalize-btn {
Â  Â  Â  Â  Â  Â  background-color: #dc3545;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  margin-left: 10px; /* Separator for the two large buttons */
Â  Â  Â  Â  }

Â  Â  Â  Â  .finalize-btn:hover:not(:disabled) {
Â  Â  Â  Â  Â  Â  background-color: #c82333;
Â  Â  Â  Â  }

Â  Â  Â  Â  button:disabled {
Â  Â  Â  Â  Â  Â  background-color: #ccc;
Â  Â  Â  Â  Â  Â  cursor: not-allowed;
Â  Â  Â  Â  }

Â  Â  Â  Â  .product-list, .session-list {
Â  Â  Â  Â  Â  Â  list-style: none;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .product-list li, .session-list li {
Â  Â  Â  Â  Â  Â  background-color: #fafafa;
Â  Â  Â  Â  Â  Â  border: 1px solid #eee;
Â  Â  Â  Â  Â  Â  padding: 10px;
Â  Â  Â  Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .product-item-details {
Â  Â  Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  .remove-btn {
Â  Â  Â  Â  Â  Â  background: none;
Â  Â  Â  Â  Â  Â  color: #dc3545;
Â  Â  Â  Â  Â  Â  border: 1px solid #dc3545;
Â  Â  Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  Â  Â  margin-top: 0;
Â  Â  Â  Â  Â  Â  margin-left: 10px;
Â  Â  Â  Â  Â  Â  width: auto;
Â  Â  Â  Â  }

Â  Â  Â  Â  .remove-btn:hover {
Â  Â  Â  Â  Â  Â  background-color: #f8d7da;
Â  Â  Â  Â  }

Â  Â  Â  Â  .summary-box {
Â  Â  Â  Â  Â  Â  background-color: #e9ecef;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .summary-box p {
Â  Â  Â  Â  Â  Â  margin: 5px 0;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }

Â  Â  Â  Â  .save-buttons-container {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .save-buttons-container button {
Â  Â  Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Mobile layout adjustment */
Â  Â  Â  Â  @media (max-width: 450px) {
Â  Â  Â  Â  Â  Â  .save-buttons-container {
Â  Â  Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  .finalize-btn {
Â  Â  Â  Â  Â  Â  Â  Â  margin-left: 0;
Â  Â  Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>

<body>
Â  Â  <div id="root"></div>

Â  Â  <script type="text/babel">
Â  Â  Â  Â  // Utility to get today's date in YYYY-MM-DD format
        const getTodayDate = () => {
            const today = new Date();
            const yyyy = today.getFullYear();
            const mm = String(today.getMonth() + 1).padStart(2, '0'); // Months start at 0
            const dd = String(today.getDate()).padStart(2, '0');
            return `${yyyy}-${mm}-${dd}`;
        };
        
Â  Â  Â  Â  // Static data structures
Â  Â  Â  Â  const STATIC_JOB_OPTIONS = [
Â  Â  Â  Â  Â  Â  { name: "--- Select a Job ---", key: "default", value: null },
Â  Â  Â  Â  Â  Â  { name: "Acme Office Renovation", key: "acme", value: "Acme Office Renovation" },
Â  Â  Â  Â  Â  Â  { name: "Riverside Home Build", key: "riverside", value: "Riverside Home Build" },
Â  Â  Â  Â  Â  Â  { name: "New Client Job...", key: "new", value: "New Client Job..." },Â  // Value should match the name if it's not null
Â  Â  Â  Â  ];

Â  Â  Â  Â const STATIC_PRODUCTS = [
Â  Â  Â  Â  Â  Â  // --- NEW KAYCAN VINYL PRODUCTS ---
Â  Â  Â  Â  Â  Â  { id: 201, type: "Siding", manufacturer: "Kaycan - Vinyl", product: "Avanti", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 202, type: "Siding", manufacturer: "Kaycan - Vinyl", product: "Elegance D5DL", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 203, type: "Siding", manufacturer: "Kaycan - Vinyl", product: "Board & Batten standard", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 204, type: "Siding", manufacturer: "Kaycan - Vinyl", product: "Board & Batten white", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 205, type: "Trim", manufacturer: "Kaycan - Vinyl", product: "Universal 5/8 VJ", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 206, type: "Trim", manufacturer: "Kaycan - Vinyl", product: "Universal 5/8 VJ Wideface", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 207, type: "Trim/Corner", manufacturer: "Kaycan - Vinyl", product: "Universal OSCP", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 208, type: "Trim/Corner", manufacturer: "Kaycan - Vinyl", product: "Universal ISCP", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 209, type: "Accessory", manufacturer: "Kaycan - Vinyl", product: "Vinyl Starter Strip", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 210, type: "Accessory", manufacturer: "Kaycan - Vinyl", product: "Drip Cap", length: "12 ft" },

Â  Â  Â  Â  Â  Â  // --- NEW KAYCAN ALUMINUM PRODUCTS ---
Â  Â  Â  Â  Â  Â  { id: 211, type: "Soffit", manufacturer: "Kaycan - Aluminum", product: "Quad 4 Full Vented", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 212, type: "Soffit", manufacturer: "Kaycan - Aluminum", product: "Deluxe Plain Soffit", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 213, type: "Soffit", manufacturer: "Kaycan - Aluminum", product: "Deluxe Vented Soffit", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 214, type: "Soffit", manufacturer: "Kaycan - Aluminum", product: "SP600 Plain Soffit", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 215, type: "Soffit", manufacturer: "Kaycan - Aluminum", product: "SP600 Vented Soffit", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 216, type: "Fascia", manufacturer: "Kaycan - Aluminum", product: "6\" Fascia", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 217, type: "Fascia", manufacturer: "Kaycan - Aluminum", product: "8\" Fascia", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 218, type: "Trim", manufacturer: "Kaycan - Aluminum", product: "3/8\" AJ", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 219, type: "Coil", manufacturer: "Kaycan - Aluminum", product: "Flatstock coil", length: "50 ft" },
Â  Â  Â  Â  Â  Â  { id: 220, type: "Eaves/Gutter", manufacturer: "Kaycan - Aluminum", product: "Trough", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 221, type: "Eaves/Gutter", manufacturer: "Kaycan - Aluminum", product: "Pipestrap", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 222, type: "Eaves/Gutter", manufacturer: "Kaycan - Aluminum", product: "Downpipe 3\"", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 223, type: "Eaves/Gutter", manufacturer: "Kaycan - Aluminum", product: "Elbow 3\"", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 224, type: "Eaves/Gutter", manufacturer: "Kaycan - Aluminum", product: "Endcaps", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 225, type: "Eaves/Gutter", manufacturer: "Kaycan - Aluminum", product: "Inside Mitres", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 226, type: "Eaves/Gutter", manufacturer: "Kaycan - Aluminum", product: "Outside Mitres", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 227, type: "Eaves/Gutter", manufacturer: "Kaycan - Aluminum", product: "4' Leafguard", length: "4 ft" },
Â  Â  Â  Â  Â  Â  { id: 228, type: "Sealant", manufacturer: "Kaycan - Aluminum", product: "Tremco Caulking", length: "N/A" },

Â  Â  Â  Â  Â  Â  // --- MITTEN PRODUCTS ---
Â  Â  Â  Â  Â  Â  { id: 101, type: "Siding", manufacturer: "Mitten", product: "Sentry D4H", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 102, type: "Siding", manufacturer: "Mitten", product: "Sentry D4.5DL", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 103, type: "Siding", manufacturer: "Mitten", product: "Sentry Board & Batten", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 104, type: "Trim/J-Channel", manufacturer: "Mitten", product: "Universal 5/8 v J", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 105, type: "Trim/J-Channel", manufacturer: "Mitten", product: "Universal 7/8 v J", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 106, type: "Trim/F-Channel", manufacturer: "Mitten", product: "Universal 3\" OSCP", length: "12 ft" },Â 
Â  Â  Â  Â  Â  Â  { id: 107, type: "Trim/F-Channel", manufacturer: "Mitten", product: "Universal ISCP", length: "12 ft" },Â 
Â  Â  Â  Â  Â  Â  { id: 108, type: "Trim/Starter", manufacturer: "Mitten", product: "Universal Htrim", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 109, type: "Soffit", manufacturer: "Mitten", product: "D5 Vertical Soffit", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 110, type: "Soffit", manufacturer: "Mitten", product: "D5 Full Vent Perforated", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 111, type: "Block", manufacturer: "Mitten", product: "Light JBlock", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 112, type: "Block", manufacturer: "Mitten", product: "Recessed split JBlock(elec)", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 113, type: "Vent", manufacturer: "Mitten", product: "6\" hooded exhaust vent", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 114, type: "Vent", manufacturer: "Mitten", product: "6\" louvered exhaust vent", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 115, type: "Vent", manufacturer: "Mitten", product: "4\" hooded dryer vent", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 116, type: "Vent", manufacturer: "Mitten", product: "4\" louvered dryer vent", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 117, type: "Vent", manufacturer: "Mitten", product: "22\" Octagon Gable Vent", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 118, type: "Vent", manufacturer: "Mitten", product: "18\" octagon gable vent", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 119, type: "Shakes", manufacturer: "Mitten", product: "Foundry - 7\" Split Shakes", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 120, type: "Trim/Corner", manufacturer: "Mitten", product: "Foundry - 7\" Shakes Corner", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 121, type: "Shakes", manufacturer: "Mitten", product: "Foundry - 7\" Weathered Staggered Shakes", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 122, type: "Trim/Corner", manufacturer: "Mitten", product: "Foundry - 7\" Shake Corner Kit", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 123, type: "Trim/Corner", manufacturer: "Mitten", product: "Foundry Weathered 7\" Shake Corner Kit", length: "N/A" },
Â  Â  Â  Â  Â  Â  { id: 124, type: "Siding", manufacturer: "Mitten", product: "Rustic D4.5DL", length: "12 ft" },
Â  Â  Â  Â  Â  Â  { id: 125, type: "Siding", manufacturer: "Mitten", product: "Rustic BB", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 126, type: "Trim/Corner", manufacturer: "Mitten", product: "Rustic ISCP", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 127, type: "Trim/Corner", manufacturer: "Mitten", product: "Rustic OSCP", length: "10 ft" },
Â  Â  Â  Â  Â  Â  { id: 128, type: "Trim/J-Channel", manufacturer: "Mitten", product: "Rustic 5/8 v J", length: "10 ft" },
Â  Â  Â  Â  ];
Â  Â Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Utility to manage Local Storage
Â  Â  Â  Â  const loadJobData = (jobName) => {
Â  Â  Â  Â  Â  Â  const data = localStorage.getItem(`jobData_${jobName}`);
Â  Â  Â  Â  Â  Â  return data ? JSON.parse(data) : { products: [], sessions: [], photoLink: '' };
Â  Â  Â  Â  };

Â  Â  Â  Â  const saveJobData = (jobName, products, sessions, photoLink) => {
Â  Â  Â  Â  Â  Â  const data = JSON.stringify({ products, sessions, photoLink });
Â  Â  Â  Â  Â  Â  localStorage.setItem(`jobData_${jobName}`, data);
Â  Â  Â  Â  };

Â  Â  Â  Â  const clearJobData = (jobName) => {
Â  Â  Â  Â  Â  Â  localStorage.removeItem(`jobData_${jobName}`);
Â  Â  Â  Â  Â  Â  const savedJobs = JSON.parse(localStorage.getItem('savedJobs') || '[]');
Â  Â  Â  Â  Â  Â  const updatedJobs = savedJobs.filter(name => name !== jobName);
Â  Â  Â  Â  Â  Â  localStorage.setItem('savedJobs', JSON.stringify(updatedJobs));
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  const loadSavedJobNames = () => {
Â  Â  Â  Â  Â  Â  return JSON.parse(localStorage.getItem('savedJobs') || '[]');
Â  Â  Â  Â  };

Â  Â  Â  Â  const saveNewJobName = (jobName) => {
Â  Â  Â  Â  Â  Â  const savedJobs = loadSavedJobNames();
Â  Â  Â  Â  Â  Â  if (!savedJobs.includes(jobName)) {
Â  Â  Â  Â  Â  Â  Â  Â  const newSavedJobs = [...savedJobs, jobName].sort();
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem('savedJobs', JSON.stringify(newSavedJobs));
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };


Â  Â  Â  Â  const JobTrackerApp = () => {
Â  Â  Â  Â  Â  Â  const [savedJobNames, setSavedJobNames] = React.useState(loadSavedJobNames);
Â  Â  Â  Â  Â  Â  const initialJobName = STATIC_JOB_OPTIONS[0].name;
Â  Â  Â  Â  Â  Â  const [currentJob, setCurrentJob] = React.useState({ name: initialJobName, isNew: false });
Â  Â  Â  Â  Â  Â  const [productsUsed, setProductsUsed] = React.useState([]);
Â  Â  Â  Â  Â  Â  const [loggedSessions, setLoggedSessions] = React.useState([]);
Â  Â  Â  Â  Â  Â  const [photoLink, setPhotoLink] = React.useState('');

Â  Â  Â  Â  Â  // Form state (CORRECTIONS APPLIED HERE)
            const [newProductManufacturer, setNewProductManufacturer] = React.useState(STATIC_PRODUCTS[0].manufacturer);
            const [newProductModel, setNewProductModel] = React.useState(STATIC_PRODUCTS[0].product);
            const [newProductQuantity, setNewProductQuantity] = React.useState(''); 
            const [hoursLogged, setHoursLogged] = React.useState('');
            const [newJobNameInput, setNewJobNameInput] = React.useState(''); // <--- ADDED MISSING STATE
            const [sessionDate, setSessionDate] = React.useState(getTodayDate()); // <--- ADDED MISSING STATE & INITIAL VALUE
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Effect to load data when the job changes
Â  Â  Â  Â  Â  Â  React.useEffect(() => {
Â  Â  Â  Â  Â  Â  Â  Â  if (currentJob.name && currentJob.name !== STATIC_JOB_OPTIONS[0].name) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const { products, sessions, photoLink } = loadJobData(currentJob.name);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setProductsUsed(products);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setLoggedSessions(sessions);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setPhotoLink(photoLink);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setProductsUsed([]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setLoggedSessions([]);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setPhotoLink('');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, [currentJob.name]);

Â  Â  Â  Â  Â  Â  // Save data automatically on state change
Â  Â  Â  Â  Â  Â  React.useEffect(() => {
Â  Â  Â  Â  Â  Â  Â  Â  if (currentJob.name && currentJob.name !== STATIC_JOB_OPTIONS[0].name) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  saveJobData(currentJob.name, productsUsed, loggedSessions, photoLink);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  saveNewJobName(currentJob.name);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setSavedJobNames(loadSavedJobNames());
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, [productsUsed, loggedSessions, photoLink, currentJob.name]); // Added currentJob.name to dependency array for clarity


Â  Â  Â  Â  Â  Â  const handleJobChange = (event) => {
Â  Â  Â  Â  Â  Â  Â  Â  const selectedValue = event.target.value;
Â  Â  Â  Â  Â  Â  Â  Â  const newJobOption = STATIC_JOB_OPTIONS.find(o => o.key === 'new');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (selectedValue === newJobOption.value) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setCurrentJob({ name: '', isNew: true });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setNewJobNameInput('');
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setCurrentJob({ name: selectedValue, isNew: false });
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const handleNewJobCreation = () => {
Â  Â  Â  Â  Â  Â  Â  Â  if (newJobNameInput.trim() === "") {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Please enter a name for the new job.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  const newJobName = newJobNameInput.trim();
Â  Â  Â  Â  Â  Â  Â  Â  saveNewJobName(newJobName);Â 
Â  Â  Â  Â  Â  Â  Â  Â  setCurrentJob({ name: newJobName, isNew: false });Â 
Â  Â  Â  Â  Â  Â  Â  Â  setNewJobNameInput('');
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  const handleAddProduct = () => {
Â  Â  Â  Â  Â  Â  Â  Â  const quantity = parseFloat(newProductQuantity);

Â  Â  Â  Â  Â  Â  Â  Â  if (isNaN(quantity) || quantity <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Please enter a valid quantity for the product.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const productMatch = STATIC_PRODUCTS.find(p => p.manufacturer === newProductManufacturer && p.product === newProductModel);
Â  Â  Â  Â  Â  Â  Â  Â  if (!productMatch) return;Â 

Â  Â  Â  Â  Â  Â  Â  Â  // Determine the unit based on the 'length' field
Â  Â  Â  Â  Â  Â  Â  Â  let unit = 'pieces';Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (productMatch.length.toLowerCase().includes('ft') || productMatch.length.toLowerCase().includes('feet')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  unit = 'feet';
Â  Â  Â  Â  Â  Â  Â  Â  } else if (productMatch.length.toLowerCase() === 'n/a') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  unit = 'pieces';Â 
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const newProduct = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: Date.now(),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type: productMatch.type,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  manufacturer: productMatch.manufacturer,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  product: productMatch.product,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  length: productMatch.length,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  quantity: quantity, 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  unit: unit,Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  setProductsUsed(prev => [...prev, newProduct]);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  setNewProductQuantity(''); 
Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const handleRemoveProduct = (id) => {
Â  Â  Â  Â  Â  Â  Â  Â  setProductsUsed(productsUsed.filter(p => p.id !== id));
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const handleLogHours = () => {
Â  Â  Â  Â  Â  Â  Â  Â  const hours = parseFloat(hoursLogged);
Â  Â  Â  Â  Â  Â  Â  Â  if (isNaN(hours) || hours <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert("Please enter a valid number of hours.");
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  const newSession = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hours: hours,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  date: sessionDate, // This now correctly uses the state variable
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: Date.now(),
Â  Â  Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  Â  Â  setLoggedSessions(prev => [...prev, newSession]);
Â  Â  Â  Â  Â  Â  Â  Â  setHoursLogged('');
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const handleAddPhotoLink = () => {
Â  Â  Â  Â  Â  Â  Â  Â  const link = prompt("Enter photo album link (e.g., Google Photos, Dropbox):", photoLink);
Â  Â  Â  Â  Â  Â  Â  Â  if (link !== null) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setPhotoLink(link);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const handleSaveProgress = () => {
Â  Â  Â  Â  Â  Â  Â  Â  saveJobData(currentJob.name, productsUsed, loggedSessions, photoLink);
Â  Â  Â  Â  Â  Â  Â  Â  alert(`ğŸ’¾ Progress saved for ${currentJob.name}!`);
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const handleFinalizeAndSend = () => {
Â  Â  Â  Â  Â  Â  Â  Â  const totalHours = loggedSessions.reduce((sum, session) => sum + session.hours, 0).toFixed(2);
Â  Â  Â  Â  Â  Â  Â  Â  const report = `
Job Report for: ${currentJob.name}

--- Summary ---
Total Hours: ${totalHours} hrs
Unique Products Used: ${productsUsed.length}
Photo Link: ${photoLink || 'N/A'}

--- Products Used ---
${productsUsed.map(p => `- ${p.type}: ${p.manufacturer} ${p.product} (${p.quantity} ${p.unit})`).join('\n')}

--- Sessions Logged ---
${loggedSessions.map(s => `- ${s.hours.toFixed(2)} hrs on ${s.date}`).join('\n')}
Â  Â  Â  Â  Â  Â  Â  Â  `;

Â  Â  Â  Â  Â  Â  Â  Â  // Show alert with full report for easy copying to email/text
Â  Â  Â  Â  Â  Â  Â  Â  alert("--- FINALIZE & SEND REPORT ---\n\n" + report);

Â  Â  Â  Â  Â  Â  Â  Â  // Clear data after finalizing
Â  Â  Â  Â  Â  Â  Â  Â  const confirmClear = confirm("Report contents copied. Do you want to CLEAR the job data (hours, products, link) for this job now?");
Â  Â  Â  Â  Â  Â  Â  Â  if (confirmClear) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  clearJobData(currentJob.name);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setCurrentJob({ name: STATIC_JOB_OPTIONS[0].name, isNew: false });Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert(`âœ… Data for ${currentJob.name} has been cleared and the job has been reset.`);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  const allJobOptions = [...STATIC_JOB_OPTIONS.filter(o => o.key !== 'new'),Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ...savedJobNames.filter(name => !STATIC_JOB_OPTIONS.some(o => o.name === name)).map(name => ({ name, key: name, value: name })),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â STATIC_JOB_OPTIONS.find(o => o.key === 'new')];
Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  const allManufacturers = Array.from(new Set(STATIC_PRODUCTS.map(p => p.manufacturer)));
Â  Â  Â  Â  Â  Â  const availableModels = STATIC_PRODUCTS.filter(p => p.manufacturer === newProductManufacturer);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Render logic
Â  Â  Â  Â  Â  Â  if (currentJob.isNew) {
Â  Â  Â  Â  Â  Â  Â  Â  // New Job Creation View
Â  Â  Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h1>New Job Setup</h1>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label htmlFor="newJobNameInput">Enter New Job Name</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="text"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id="newJobNameInput"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={newJobNameInput}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setNewJobNameInput(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="e.g., Smith Residence Deck Build"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button className="add-product-btn" onClick={handleNewJobCreation} style={{ marginTop: '20px' }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â• CREATE JOB
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onClick={() => setCurrentJob({ name: STATIC_JOB_OPTIONS[0].name, isNew: false })}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â†©ï¸ Cancel
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  return (
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h1>Field Job Tracker</h1>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* --- JOB SELECTION --- */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label htmlFor="job-select">Select Job</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="job-select" value={currentJob.name} onChange={handleJobChange}>
                        {allJobOptions.map((option, index) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option key={option.key || index} value={option.value || option.name}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {option.name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {currentJob.name === STATIC_JOB_OPTIONS[0].name && (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style={{ marginTop: '15px', color: '#dc3545', fontWeight: 'bold', textAlign: 'center' }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Please select or create a job to begin tracking.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* --- PRODUCT TRACKING --- */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2>ğŸ”¨ Products Used</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="product-form" style={{ opacity: currentJob.name === STATIC_JOB_OPTIONS[0].name ? 0.5 : 1 }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label htmlFor="manufacturer-select">Manufacturer</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id="manufacturer-select"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={newProductManufacturer}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => {
                                setNewProductManufacturer(e.target.value);
                                // Reset model to the first option of the new manufacturer
                                const firstModel = STATIC_PRODUCTS.find(p => p.manufacturer === e.target.value);
                                if (firstModel) {
                                    setNewProductModel(firstModel.product);
                                }
                            }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={currentJob.name === STATIC_JOB_OPTIONS[0].name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {allManufacturers.map((m) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option key={m} value={m}>{m}</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label htmlFor="model-select">Model/Product</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id="model-select"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={newProductModel}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setNewProductModel(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={currentJob.name === STATIC_JOB_OPTIONS[0].name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {availableModels.map((p) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option key={p.id} value={p.product}>{`${p.product} (${p.type})`}</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label htmlFor="product-quantity-input">Quantity Used (Feet, Pieces, etc.)</label>
<input
Â  Â  id="product-quantity-input"
Â  Â  type="number"
Â  Â  value={newProductQuantity}
Â  Â  onChange={(e) => setNewProductQuantity(e.target.value)}
Â  Â  placeholder="e.g., 200 or 12"
Â  Â  min="1"
Â  Â  disabled={currentJob.name === STATIC_JOB_OPTIONS[0].name}
/>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <buttonÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="add-product-btn"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleAddProduct}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={currentJob.name === STATIC_JOB_OPTIONS[0].name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â• ADD PRODUCT TO LIST
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ul className="product-list">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {productsUsed.map((product) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li key={product.id}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="product-item-details">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>{product.manufacturer} {product.product}</strong> ({product.quantity} {product.unit})
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <br/>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <small>{product.type} ({product.length})</small>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button className="remove-btn" onClick={() => handleRemoveProduct(product.id)}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &times; Remove
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {productsUsed.length === 0 && currentJob.name !== STATIC_JOB_OPTIONS[0].name && (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <p>No products logged yet.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* --- HOURS TRACKING --- */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h2>â±ï¸ Time & Photos</h2>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="hours-form" style={{ opacity: currentJob.name === STATIC_JOB_OPTIONS[0].name ? 0.5 : 1 }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label htmlFor="hours-input">Hours Worked</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id="hours-input"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="number"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={hoursLogged}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setHoursLogged(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  placeholder="e.g., 8.5"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={currentJob.name === STATIC_JOB_OPTIONS[0].name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label htmlFor="date-input">Date</label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id="date-input"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type="date"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  value={sessionDate}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onChange={(e) => setSessionDate(e.target.value)}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={currentJob.name === STATIC_JOB_OPTIONS[0].name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  />

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <buttonÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="log-hours-btn"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleLogHours}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={currentJob.name === STATIC_JOB_OPTIONS[0].name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â• LOG HOURS
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="add-photo-btn"
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleAddPhotoLink}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={currentJob.name === STATIC_JOB_OPTIONS[0].name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  style={{ width: 'auto' }}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ“¸ {photoLink ? 'Update Photo Link' : 'Add Photo Link'}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {photoLink && (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style={{ marginTop: '5px', fontSize: '0.9em' }}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Link saved: <a href={photoLink} target="_blank">{photoLink.substring(0, 30)}...</a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* --- SUMMARY --- */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="summary-box">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3>Job Summary</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Total Hours:</strong> {loggedSessions.reduce((sum, session) => sum + session.hours, 0).toFixed(2)} hrs</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {loggedSessions.length === 0 ? (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>No hours logged yet.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) : (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ul className="session-list">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {loggedSessions.map((session) => (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li key={session.id}>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {session.hours.toFixed(2)} hrs on <strong>{session.date}</strong>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ))}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Unique Products Used:</strong> {productsUsed.length}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {/* --- SAVE BUTTONS --- */}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div className="save-buttons-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <buttonÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="save-progress-btn"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleSaveProgress}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={currentJob.name === STATIC_JOB_OPTIONS[0].name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ’¾ SAVE PROGRESS
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <buttonÂ 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  className="finalize-btn"Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick={handleFinalizeAndSend}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  disabled={currentJob.name === STATIC_JOB_OPTIONS[0].name}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  >
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  âœ‰ï¸ FINALIZE & SEND REPORT
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  );
Â  Â  Â  Â  }

Â  Â  Â  Â  ReactDOM.render(<JobTrackerApp />, document.getElementById('root'));
Â  Â  </script>

</body>
</html>
